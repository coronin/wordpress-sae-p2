From 05cd762a4687ec35e2d3a499fb43ff810688d355 Mon Sep 17 00:00:00 2001
From: Liang <coronin+m11x@gmail.com>
Date: Thu, 26 Mar 2015 23:24:42 +0800
Subject: [PATCH 2/2] cail hand adjust

---
 wp-admin/admin-footer.php                                |  1 -
 wp-admin/admin.php                                       |  2 +-
 wp-admin/export.php                                      |  2 +-
 wp-admin/import.php                                      |  4 ++--
 wp-admin/includes/ajax-actions.php                       |  6 +++---
 wp-admin/includes/class-wp-plugin-install-list-table.php |  2 +-
 wp-admin/includes/class-wp-plugins-list-table.php        |  6 +++---
 wp-admin/includes/class-wp-theme-install-list-table.php  |  2 +-
 wp-admin/includes/class-wp-themes-list-table.php         |  2 +-
 wp-admin/includes/class-wp-upgrader.php                  |  2 +-
 wp-admin/includes/dashboard.php                          |  2 +-
 wp-admin/includes/file.php                               |  6 +++---
 wp-admin/includes/image-edit.php                         |  6 +++---
 wp-admin/includes/misc.php                               |  4 ++--
 wp-admin/includes/plugin-install.php                     |  4 ++--
 wp-admin/includes/update-core.php                        |  2 +-
 wp-admin/includes/update.php                             |  2 --
 wp-admin/install.php                                     |  1 -
 wp-admin/menu.php                                        |  2 +-
 wp-admin/options-permalink.php                           |  8 ++++----
 wp-admin/plugin-editor.php                               |  2 +-
 wp-admin/plugins.php                                     |  5 ++---
 wp-admin/theme-editor.php                                |  2 +-
 wp-admin/themes.php                                      |  2 +-
 wp-admin/update-core.php                                 | 10 +++++-----
 wp-includes/ID3/module.audio.mp3.php                     |  2 +-
 wp-includes/capabilities.php                             |  2 +-
 wp-includes/class-http.php                               |  5 ++---
 wp-includes/class-pop3.php                               |  4 ++--
 wp-includes/class-smtp.php                               |  4 ++--
 wp-includes/class-wp-image-editor-gd.php                 |  4 ++--
 wp-includes/class-wp-image-editor-imagick.php            |  2 +-
 wp-includes/comment.php                                  |  2 +-
 wp-includes/default-constants.php                        |  2 +-
 wp-includes/deprecated.php                               |  2 +-
 wp-includes/functions.php                                | 11 +++++------
 wp-includes/load.php                                     |  2 +-
 wp-includes/media.php                                    |  1 -
 39 files changed, 61 insertions(+), 70 deletions(-)

diff --git a/wp-admin/admin-footer.php b/wp-admin/admin-footer.php
index cc967e1..f7ef110 100644
--- a/wp-admin/admin-footer.php
+++ b/wp-admin/admin-footer.php
@@ -53,7 +53,6 @@ if ( !defined('ABSPATH') )
 		 */
 		echo apply_filters( 'update_footer', '' );
 		?>
-		由 <a href="http://blog.gimhoy.com/archives/wordpress-on-sae.html">Gimhoy</a> 移植至 SAE
 	</p>
 	<div class="clear"></div>
 </div>
diff --git a/wp-admin/admin.php b/wp-admin/admin.php
index dab4343..ddca8f3 100644
--- a/wp-admin/admin.php
+++ b/wp-admin/admin.php
@@ -129,7 +129,7 @@ if ( current_user_can( 'manage_options' ) ) {
 	 *
 	 * @param string 'WP_MAX_MEMORY_LIMIT' The maximum WordPress memory limit. Default 256M.
 	 */
-	// @ini_set( 'memory_limit', apply_filters( 'admin_memory_limit', WP_MAX_MEMORY_LIMIT ) ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+	// @ini_set( 'memory_limit', apply_filters( 'admin_memory_limit', WP_MAX_MEMORY_LIMIT ) ); // for SAE
 
 }
 
diff --git a/wp-admin/export.php b/wp-admin/export.php
index f7a3bf2..faec299 100644
--- a/wp-admin/export.php
+++ b/wp-admin/export.php
@@ -150,7 +150,7 @@ function export_date_options( $post_type = 'post' ) {
 <p><?php _e('When you click the button below WordPress will create an XML file for you to save to your computer.'); ?></p>
 <p><?php _e('This format, which we call WordPress eXtended RSS or WXR, will contain your posts, pages, comments, custom fields, categories, and tags.'); ?></p>
 <p><?php _e('Once you&#8217;ve saved the download file, you can use the Import function in another WordPress installation to import the content from this site.'); ?></p>
-<p style="color:red">由于SAE对脚本执行时间有限制，当数据量非常大时，导出可能会超时而导致失败。您可以使用SAE的Defferred Jobs服务将Mysql数据导出。</p>  <?php // for SAE, modified by Gimhoy (blog.gimhoy.com)  ?>
+<p style="color:red">由于SAE对脚本执行时间有限制，当数据量非常大时，导出可能会超时而导致失败。您可以使用SAE的Defferred Jobs服务将Mysql数据导出。</p>  <?php // for SAE ?>
 
 <h3><?php _e( 'Choose what to export' ); ?></h3>
 <form action="" method="get" id="export-filters">
diff --git a/wp-admin/import.php b/wp-admin/import.php
index 2ea073d..62636f5 100644
--- a/wp-admin/import.php
+++ b/wp-admin/import.php
@@ -56,7 +56,7 @@ $parent_file = 'tools.php';
 <?php if ( ! empty( $_GET['invalid'] ) ) : ?>
 	<div class="error"><p><strong><?php _e('ERROR:')?></strong> <?php printf( __('The <strong>%s</strong> importer is invalid or is not installed.'), esc_html( $_GET['invalid'] ) ); ?></p></div>
 <?php endif; ?>
-<p style="color:red">由于SAE对脚本执行时间有限制，当数据量非常大时，导入可能会超时而导致失败。您可以使用SAE的Defferred Jobs服务将数据库导入。</p>   <?php // for SAE, modified by Gimhoy (blog.gimhoy.com)  ?>
+<p style="color:red">由于SAE对脚本执行时间有限制，当数据量非常大时，导入可能会超时而导致失败。您可以使用SAE的Defferred Jobs服务将数据库导入。</p>   <?php // for SAE ?>
 <p><?php _e('If you have posts or comments in another system, WordPress can import those into this site. To get started, choose a system to import from below:'); ?></p>
 
 <?php
@@ -125,7 +125,7 @@ if ( empty( $importers ) ) {
 /*
 if ( current_user_can('install_plugins') )
 	echo '<p>' . sprintf( __('If the importer you need is not listed, <a href="%s">search the plugin directory</a> to see if an importer is available.'), esc_url( network_admin_url( 'plugin-install.php?tab=search&type=tag&s=importer' ) ) ) . '</p>';
-*/ // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+*/ // for SAE
 ?>
 
 </div>
diff --git a/wp-admin/includes/ajax-actions.php b/wp-admin/includes/ajax-actions.php
index ea2a9af..1e6a612 100644
--- a/wp-admin/includes/ajax-actions.php
+++ b/wp-admin/includes/ajax-actions.php
@@ -828,7 +828,7 @@ function wp_ajax_get_tagcloud() {
 	if ( ! $tax ) {
 		wp_die( 0 );
 	}
-	
+
 	if ( ! current_user_can( $tax->cap->assign_terms ) ) {
 		wp_die( -1 );
 	}
@@ -2551,7 +2551,7 @@ function wp_ajax_get_revision_diffs() {
 		wp_send_json_error();
 
 	$return = array();
-	// @set_time_limit( 0 );  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+	// @set_time_limit( 0 );  // for SAE
 
 	foreach ( $_REQUEST['compare'] as $compare_key ) {
 		list( $compare_from, $compare_to ) = explode( ':', $compare_key ); // from:to
@@ -2793,7 +2793,7 @@ function wp_ajax_destroy_sessions() {
 		$message = __( 'You are now logged out everywhere else.' );
 	} else {
 		$sessions->destroy_all();
-		/* translators: 1: User's display name. */ 
+		/* translators: 1: User's display name. */
 		$message = sprintf( __( '%s has been logged out.' ), $user->display_name );
 	}
 
diff --git a/wp-admin/includes/class-wp-plugin-install-list-table.php b/wp-admin/includes/class-wp-plugin-install-list-table.php
index 9230e88..82e07c3 100644
--- a/wp-admin/includes/class-wp-plugin-install-list-table.php
+++ b/wp-admin/includes/class-wp-plugin-install-list-table.php
@@ -72,7 +72,7 @@ class WP_Plugin_Install_List_Table extends WP_List_Table {
 		if ( current_user_can( 'upload_plugins' ) ) {
 			// No longer a real tab. Here for filter compatibility.
 			// Gets skipped in get_views().
-			//$tabs['upload'] = __( 'Upload Plugin' ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+			//$tabs['upload'] = __( 'Upload Plugin' ); // for SAE
 		}
 
 		$nonmenu_tabs = array( 'plugin-information' ); // Valid actions to perform which do not have a Menu item.
diff --git a/wp-admin/includes/class-wp-plugins-list-table.php b/wp-admin/includes/class-wp-plugins-list-table.php
index c2535c9..b6e19db 100644
--- a/wp-admin/includes/class-wp-plugins-list-table.php
+++ b/wp-admin/includes/class-wp-plugins-list-table.php
@@ -314,7 +314,7 @@ class WP_Plugins_List_Table extends WP_List_Table {
 			if ( current_user_can( 'update_plugins' ) )
 				$actions['update-selected'] = __( 'Update' );
 			/* if ( current_user_can( 'delete_plugins' ) && ( 'active' != $status ) )
-				$actions['delete-selected'] = __( 'Delete' ); */ //for SAE, modified by Gimhoy (blog.gimhoy.com) 
+				$actions['delete-selected'] = __( 'Delete' ); */ //for SAE
 		}
 
 		return $actions;
@@ -430,7 +430,7 @@ class WP_Plugins_List_Table extends WP_List_Table {
 					if ( current_user_can( 'manage_network_plugins' ) )
 						$actions['activate'] = '<a href="' . wp_nonce_url('plugins.php?action=activate&amp;plugin=' . $plugin_file . '&amp;plugin_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'activate-plugin_' . $plugin_file) . '" title="' . esc_attr__('Activate this plugin for all sites in this network') . '" class="edit">' . __('Network Activate') . '</a>';
 					/* if ( current_user_can( 'delete_plugins' ) && ! is_plugin_active( $plugin_file ) )
-						$actions['delete'] = '<a href="' . wp_nonce_url('plugins.php?action=delete-selected&amp;checked[]=' . $plugin_file . '&amp;plugin_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'bulk-plugins') . '" title="' . esc_attr__('Delete this plugin') . '" class="delete">' . __('Delete') . '</a>'; */  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+						$actions['delete'] = '<a href="' . wp_nonce_url('plugins.php?action=delete-selected&amp;checked[]=' . $plugin_file . '&amp;plugin_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'bulk-plugins') . '" title="' . esc_attr__('Delete this plugin') . '" class="delete">' . __('Delete') . '</a>'; */  // for SAE
 				}
 			} else {
 				if ( $is_active ) {
@@ -445,7 +445,7 @@ class WP_Plugins_List_Table extends WP_List_Table {
 			 } // end if $screen->in_admin( 'network' )
 
 					/* if ( ! is_multisite() && current_user_can('delete_plugins') )
-						$actions['delete'] = '<a href="' . wp_nonce_url('plugins.php?action=delete-selected&amp;checked[]=' . $plugin_file . '&amp;plugin_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'bulk-plugins') . '" title="' . esc_attr__('Delete this plugin') . '" class="delete">' . __('Delete') . '</a>'; */ // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+						$actions['delete'] = '<a href="' . wp_nonce_url('plugins.php?action=delete-selected&amp;checked[]=' . $plugin_file . '&amp;plugin_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'bulk-plugins') . '" title="' . esc_attr__('Delete this plugin') . '" class="delete">' . __('Delete') . '</a>'; */ // for SAE
 		} // end if $context
 
 		$prefix = $screen->in_admin( 'network' ) ? 'network_admin_' : '';
diff --git a/wp-admin/includes/class-wp-theme-install-list-table.php b/wp-admin/includes/class-wp-theme-install-list-table.php
index b9f041c..ba83f5a 100644
--- a/wp-admin/includes/class-wp-theme-install-list-table.php
+++ b/wp-admin/includes/class-wp-theme-install-list-table.php
@@ -40,7 +40,7 @@ class WP_Theme_Install_List_Table extends WP_Themes_List_Table {
 		$tabs['dashboard'] = __( 'Search' );
 		if ( 'search' == $tab )
 			$tabs['search']	= __( 'Search Results' );
-		/* $tabs['upload'] = __( 'Upload' ); */ // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+		/* $tabs['upload'] = __( 'Upload' ); */ // for SAE
 		$tabs['featured'] = _x( 'Featured', 'themes' );
 		//$tabs['popular']  = _x( 'Popular', 'themes' );
 		$tabs['new']      = _x( 'Latest', 'themes' );
diff --git a/wp-admin/includes/class-wp-themes-list-table.php b/wp-admin/includes/class-wp-themes-list-table.php
index 0c827b9..52e6cf8 100644
--- a/wp-admin/includes/class-wp-themes-list-table.php
+++ b/wp-admin/includes/class-wp-themes-list-table.php
@@ -171,7 +171,7 @@ class WP_Themes_List_Table extends WP_List_Table {
 			/* if ( ! is_multisite() && current_user_can( 'delete_themes' ) )
 				$actions['delete'] = '<a class="submitdelete deletion" href="' . wp_nonce_url( 'themes.php?action=delete&amp;stylesheet=' . urlencode( $stylesheet ), 'delete-theme_' . $stylesheet )
 					. '" onclick="' . "return confirm( '" . esc_js( sprintf( __( "You are about to delete this theme '%s'\n  'Cancel' to stop, 'OK' to delete." ), $title ) )
-					. "' );" . '">' . __( 'Delete' ) . '</a>'; */ // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+					. "' );" . '">' . __( 'Delete' ) . '</a>'; */ // for SAE
 
 			/** This filter is documented in wp-admin/includes/class-wp-ms-themes-list-table.php */
 			$actions       = apply_filters( 'theme_action_links', $actions, $theme );
diff --git a/wp-admin/includes/class-wp-upgrader.php b/wp-admin/includes/class-wp-upgrader.php
index 5bcf002..0fd0057 100644
--- a/wp-admin/includes/class-wp-upgrader.php
+++ b/wp-admin/includes/class-wp-upgrader.php
@@ -334,7 +334,7 @@ class WP_Upgrader {
 		$destination = $args['destination'];
 		$clear_destination = $args['clear_destination'];
 
-		// @set_time_limit( 300 ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+		// @set_time_limit( 300 ); // for SAE
 
 
 		if ( empty( $source ) || empty( $destination ) ) {
diff --git a/wp-admin/includes/dashboard.php b/wp-admin/includes/dashboard.php
index 68bb3f7..18bfecf 100644
--- a/wp-admin/includes/dashboard.php
+++ b/wp-admin/includes/dashboard.php
@@ -952,7 +952,7 @@ function wp_dashboard_primary() {
 			 *
 			 * @param string $title Title attribute for the widget's primary link.
 			 */
-			'title'        => apply_filters( 'dashboard_primary_title', __( 'WordPress SAE - Gimhoy\'s Blog' ) ),
+			'title'        => apply_filters( 'dashboard_primary_title', __( 'WordPress SAE by Gimhoy' ) ),
 			'items'        => 1,
 			'show_summary' => 1,
 			'show_author'  => 0,
diff --git a/wp-admin/includes/file.php b/wp-admin/includes/file.php
index 3ca5014..0ea9160 100644
--- a/wp-admin/includes/file.php
+++ b/wp-admin/includes/file.php
@@ -346,7 +346,7 @@ function _wp_handle_upload( &$file, $overrides, $time, $action ) {
 	$stat = stat( dirname( $new_file ));
 	$perms = $stat['mode'] & 0000666;
 	@ chmod( $new_file, $perms );
-	*/ // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+	*/ // for SAE
 
 
 	// Compute the URL.
@@ -520,7 +520,7 @@ function unzip_file($file, $to) {
 
 	// Unzip can use a lot of memory, but not this much hopefully
 	/** This filter is documented in wp-admin/admin.php */
-	//@ini_set( 'memory_limit', apply_filters( 'admin_memory_limit', WP_MAX_MEMORY_LIMIT ) );  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+	//@ini_set( 'memory_limit', apply_filters( 'admin_memory_limit', WP_MAX_MEMORY_LIMIT ) );  // for SAE
 
 	$needed_dirs = array();
 	$to = trailingslashit($to);
@@ -928,7 +928,7 @@ function get_filesystem_method( $args = array(), $context = false, $allow_relaxe
 			}
 
 			if ( $wp_file_owner !== false && $wp_file_owner === $temp_file_owner ) {
-				// WordPress is creating files as the same owner as the WordPress files, 
+				// WordPress is creating files as the same owner as the WordPress files,
 				// this means it's safe to modify & create new files via PHP.
 				$method = 'direct';
 				$GLOBALS['_wp_filesystem_direct_method'] = 'file_owner';
diff --git a/wp-admin/includes/image-edit.php b/wp-admin/includes/image-edit.php
index ae9333b..69d583e 100644
--- a/wp-admin/includes/image-edit.php
+++ b/wp-admin/includes/image-edit.php
@@ -315,7 +315,7 @@ function wp_save_image_file( $filename, $image, $mime_type, $post_id ) {
 		if ( null !== $saved )
 			return $saved;
 
-		$tmpfile = tempnam(SAE_TMP_PATH, 'WPIMG');  // for SAE, modified by Gimhoy (blog.gimhoy.com) 			
+		$tmpfile = tempnam(SAE_TMP_PATH, 'WPIMG');  // for SAE
 
 		switch ( $mime_type ) {
 			case 'image/jpeg':
@@ -323,9 +323,9 @@ function wp_save_image_file( $filename, $image, $mime_type, $post_id ) {
 				/** This filter is documented in wp-includes/class-wp-image-editor.php */
 				return imagejpeg( $image, $tmpfile, apply_filters( 'jpeg_quality', 90, 'edit_image' ) );
 			case 'image/png':
-				return imagepng($image, $tmpfile) && copy($tmpfile, $filename);  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+				return imagepng($image, $tmpfile) && copy($tmpfile, $filename);  // for SAE
 			case 'image/gif':
-				return imagegif($image, $tmpfile) && copy($tmpfile, $filename);  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+				return imagegif($image, $tmpfile) && copy($tmpfile, $filename);  // for SAE
 			default:
 				return false;
 		}
diff --git a/wp-admin/includes/misc.php b/wp-admin/includes/misc.php
index 73b62d5..5dbbcc3 100644
--- a/wp-admin/includes/misc.php
+++ b/wp-admin/includes/misc.php
@@ -154,8 +154,8 @@ function insert_with_markers( $filename, $marker, $insertion ) {
  *
  * @since 1.5.0
  */
-function save_mod_rewrite_rules() {	
-	return;  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+function save_mod_rewrite_rules() {
+	return;  // for SAE
 
 	if ( is_multisite() )
 		return;
diff --git a/wp-admin/includes/plugin-install.php b/wp-admin/includes/plugin-install.php
index 97b30ec..67dbf6c 100644
--- a/wp-admin/includes/plugin-install.php
+++ b/wp-admin/includes/plugin-install.php
@@ -542,12 +542,12 @@ function install_plugin_information() {
 		switch ( $status['status'] ) {
 			case 'install':
 				if ( $status['url'] ) {
-					echo '<a class="button button-primary right" href="' . $api->download_link . '" target="_blank">' . __('现在下载') . '</a>';  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+					echo '<a class="button button-primary right" href="' . $api->download_link . '" target="_blank">' . __('现在下载') . '</a>';  // for SAE
 				}
 				break;
 			case 'update_available':
 				if ( $status['url'] ) {
-					echo '<a class="button button-primary right" href="' . $api->download_link . '" target="_blank">' . __('现在下载更新') .'</a>';  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+					echo '<a class="button button-primary right" href="' . $api->download_link . '" target="_blank">' . __('现在下载更新') .'</a>';  // for SAE
 				}
 				break;
 			case 'newer_installed':
diff --git a/wp-admin/includes/update-core.php b/wp-admin/includes/update-core.php
index 8aa3b22..5f772cf 100644
--- a/wp-admin/includes/update-core.php
+++ b/wp-admin/includes/update-core.php
@@ -774,7 +774,7 @@ $_new_bundled_files = array(
 function update_core($from, $to) {
 	global $wp_filesystem, $_old_files, $_new_bundled_files, $wpdb;
 
-	// @set_time_limit( 300 ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+	// @set_time_limit( 300 ); // for SAE
 
 
 	/**
diff --git a/wp-admin/includes/update.php b/wp-admin/includes/update.php
index e74547d..c8817b1 100644
--- a/wp-admin/includes/update.php
+++ b/wp-admin/includes/update.php
@@ -230,8 +230,6 @@ function update_right_now_message() {
 			$msg .= " <a href='" . network_admin_url( 'update-core.php' ) . "' class='button'>" . sprintf( __('Update to %s'), $cur->current ? $cur->current : __( 'Latest' ) ) . '</a>';
 	}
 
-	echo "<p id='wp-version-message'>$msg<b>由 <a href='http://blog.gimhoy.com/archives/wordpress-on-sae.html'>Gimhoy</a> 移植至 SAE。<a href='http://go.gimhoy.com/donate'><span style='color:red'>捐赠</span></a></b></p>";
-
 }
 
 function get_plugin_updates() {
diff --git a/wp-admin/install.php b/wp-admin/install.php
index 379fed9..3c4cb4d 100644
--- a/wp-admin/install.php
+++ b/wp-admin/install.php
@@ -217,7 +217,6 @@ switch($step) {
 
 <h1><?php _e( 'Information needed' ); ?></h1>
 <p><?php _e( 'Please provide the following information. Don&#8217;t worry, you can always change these settings later.' ); ?></p>
-<p style="font-weight:bolder; color:red;"><?php @printf( file_get_contents('http://api.gimhoy.com/WordPress_on_SAE/?a=install_announce') ); ?></p>  <?php // for SAE, modified by Gimhoy (blog.gimhoy.com) ?>
 <script type="text/javascript">
     // 提示用户是否要安装在当前版本下。
     (function(){
diff --git a/wp-admin/menu.php b/wp-admin/menu.php
index 62e1e56..37b2afa 100644
--- a/wp-admin/menu.php
+++ b/wp-admin/menu.php
@@ -192,7 +192,7 @@ $submenu['plugins.php'][5]  = array( __('Installed Plugins'), 'activate_plugins'
 
 	if ( ! is_multisite() ) {
 		/* translators: add new plugin */
-		// $submenu['plugins.php'][10] = array( _x('Add New', 'plugin'), 'install_plugins', 'plugin-install.php' ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+		// $submenu['plugins.php'][10] = array( _x('Add New', 'plugin'), 'install_plugins', 'plugin-install.php' ); // for SAE
 
 		$submenu['plugins.php'][15] = array( _x('Editor', 'plugin editor'), 'edit_plugins', 'plugin-editor.php' );
 	}
diff --git a/wp-admin/options-permalink.php b/wp-admin/options-permalink.php
index 010f4c4..32b4056 100644
--- a/wp-admin/options-permalink.php
+++ b/wp-admin/options-permalink.php
@@ -139,7 +139,7 @@ $update_required     = false;
 		$update_required = ( $new_rules !== $existing_rules );
 	}
 }*/
-$writable = true;  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+$writable = true;  // for SAE
 
 if ( $wp_rewrite->using_index_permalinks() )
 	$usingpi = true;
@@ -172,9 +172,9 @@ if ( ! is_multisite() ) {
 	}
 } else {
 	_e('Permalink structure updated.');
-}*/ 
+}*/
 _e('Permalink structure updated.');
-// for SAE, modified by Gimhoy (blog.gimhoy.com) 
+// for SAE
 ?>
 </p></div>
 <?php endif; ?>
@@ -258,7 +258,7 @@ printf( __('If you like, you may enter custom structures for your category and t
 
 <?php submit_button(); ?>
   </form>
-<?php if ( false && !is_multisite() ) {   // for SAE, modified by Gimhoy (blog.gimhoy.com) ?>
+<?php if ( false && !is_multisite() ) {  // for SAE ?>
 <?php if ( $iis7_permalinks ) :
 	if ( isset($_POST['submit']) && $permalink_structure && ! $usingpi && ! $writable ) :
 		if ( file_exists($home_path . 'web.config') ) : ?>
diff --git a/wp-admin/plugin-editor.php b/wp-admin/plugin-editor.php
index c09a82b..7429fb2 100644
--- a/wp-admin/plugin-editor.php
+++ b/wp-admin/plugin-editor.php
@@ -262,7 +262,7 @@ foreach ( $plugin_files as $plugin_file ) :
 	?>
 	</p>
 <?php else : ?>
-	<p><em><?php echo 'WordPress for SAE 禁止在线更改插件代码。您可以将代码下载到本地，修改后重新上传。'  // for SAE, modified by Gimhoy (blog.gimhoy.com)  ?></em></p>
+	<p><em><?php echo 'WordPress for SAE 禁止在线更改插件代码。您可以将代码下载到本地，修改后重新上传。'  // for SAE ?></em></p>
 <?php endif; ?>
 </form>
 <br class="clear" />
diff --git a/wp-admin/plugins.php b/wp-admin/plugins.php
index d0e4cc4..97e89f7 100644
--- a/wp-admin/plugins.php
+++ b/wp-admin/plugins.php
@@ -4,7 +4,6 @@
  *
  * @package WordPress
  * @subpackage Administration
- * @modified by Gimhoy (blog.gimhoy.com) 
  */
 
 /** WordPress Administration Bootstrap */
@@ -41,7 +40,7 @@ if ( $action ) {
 			$result = activate_plugin($plugin, self_admin_url('plugins.php?error=true&plugin=' . $plugin), is_network_admin() );
 			if ( is_wp_error( $result ) ) {
 				if ( 'unexpected_output' == $result->get_error_code() ) {
-					WP_DEBUG && file_put_contents('saemc://plugin_error', $result->get_error_data());  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+					WP_DEBUG && file_put_contents('saemc://plugin_error', $result->get_error_data());  // for SAE
 
 					$redirect = self_admin_url('plugins.php?error=true&charsout=' . strlen($result->get_error_data()) . '&plugin=' . $plugin . "&plugin_status=$status&paged=$page&s=$s");
 					wp_redirect(add_query_arg('_error_nonce', wp_create_nonce('plugin-activation-error_' . $plugin), $redirect));
@@ -434,7 +433,7 @@ if ( !empty($invalid) )
 
 <div class="wrap">
 <h2><?php echo esc_html( $title );
-if ( false &&( ! is_multisite() || is_network_admin() ) && current_user_can('install_plugins') ) { // for SAE, modified by Gimhoy (blog.gimhoy.com)  ?>  
+if ( false &&( ! is_multisite() || is_network_admin() ) && current_user_can('install_plugins') ) {  // for SAE ?>
  <a href="<?php echo self_admin_url( 'plugin-install.php' ); ?>" class="add-new-h2"><?php echo esc_html_x('Add New', 'plugin'); ?></a>
 <?php }
 if ( $s )
diff --git a/wp-admin/theme-editor.php b/wp-admin/theme-editor.php
index 4d36a72..b94b337 100644
--- a/wp-admin/theme-editor.php
+++ b/wp-admin/theme-editor.php
@@ -219,7 +219,7 @@ else : ?>
 	if ( is_writeable( $file ) ) :
 		submit_button( __( 'Update File' ), 'primary', 'submit', true );
 	else : ?>
-<p><em><?php echo 'WordPress for SAE 禁止在线更改主题代码。您可以将代码下载到本地，修改后重新上传。' // for SAE, modified by Gimhoy (blog.gimhoy.com)  ?></em></p>
+<p><em><?php echo 'WordPress for SAE 禁止在线更改主题代码。您可以将代码下载到本地，修改后重新上传。'  // for SAE ?></em></p>
 <?php endif; ?>
 		</div>
 	</form>
diff --git a/wp-admin/themes.php b/wp-admin/themes.php
index 1ce515d..0ced2a5 100644
--- a/wp-admin/themes.php
+++ b/wp-admin/themes.php
@@ -123,7 +123,7 @@ require_once( ABSPATH . 'wp-admin/admin-header.php' );
 <div class="wrap">
 	<h2><?php esc_html_e( 'Themes' ); ?>
 		<span class="title-count theme-count"><?php echo count( $themes ); ?></span>
-	<?php if ( false && ! is_multisite() && current_user_can( 'install_themes' ) ) : // for SAE, modified by Gimhoy (blog.gimhoy.com)  ?>
+	<?php if ( false && ! is_multisite() && current_user_can( 'install_themes' ) ) : // for SAE ?>
 
 		<a href="<?php echo admin_url( 'theme-install.php' ); ?>" class="hide-if-no-js add-new-h2"><?php echo esc_html_x( 'Add New', 'Add new theme' ); ?></a>
 	<?php endif; ?>
diff --git a/wp-admin/update-core.php b/wp-admin/update-core.php
index 2eff698..112010c 100644
--- a/wp-admin/update-core.php
+++ b/wp-admin/update-core.php
@@ -51,7 +51,7 @@ function list_core_update( $update ) {
 			/*
 			$submit = __('Re-install Now');
 			$form_action = 'update-core.php?action=do-core-reinstall';
-			*/ // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+			*/ // for SAE
 		} else {
 			$php_compat     = version_compare( $php_version, $update->php_version, '>=' );
 			if ( file_exists( WP_CONTENT_DIR . '/db.php' ) && empty( $wpdb->is_mysql ) )
@@ -66,7 +66,7 @@ function list_core_update( $update ) {
 			elseif ( !$mysql_compat )
 				$message = sprintf( __('You cannot update because <a href="http://codex.wordpress.org/Version_%1$s">WordPress %1$s</a> requires MySQL version %2$s or higher. You are running version %3$s.'), $update->current, $update->mysql_version, $mysql_version );
 			else
-				$message = 	sprintf(__('您可以下载 <a href="http://blog.gimhoy.com/archives/wordpress-on-sae.html">WordPress %2$s 版本</a> 的安装包手动安装：'), $update->current, $version_string);  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+				$message = 	sprintf(__('您可以下载 <a href="http://blog.gimhoy.com/archives/wordpress-on-sae.html">WordPress %2$s 版本</a> 的安装包手动安装：'), $update->current, $version_string);  // for SAE, modified by Gimhoy (blog.gimhoy.com)
 			if ( !$mysql_compat || !$php_compat )
 				$show_buttons = false;
 		}
@@ -83,10 +83,10 @@ function list_core_update( $update ) {
 	echo '<input name="locale" value="'. esc_attr($update->locale) .'" type="hidden"/>';
 	if ( $show_buttons ) {
 		if ( $first_pass ) {
-			// submit_button( $submit, $current ? 'button' : 'primary regular', 'upgrade', false ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+			// submit_button( $submit, $current ? 'button' : 'primary regular', 'upgrade', false ); // for SAE
 			$first_pass = false;
 		} else {
-			// submit_button( $submit, 'button', 'upgrade', false ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+			// submit_button( $submit, 'button', 'upgrade', false ); // for SAE
 		}
 		echo '&nbsp;<a href="' . esc_url( $update->download ) . '" class="button">' . $download . '</a>&nbsp;';
 	}
@@ -221,7 +221,7 @@ function list_plugin_updates() {
 		$core_update_version = $core_updates[0]->current;
 	?>
 <h3><?php _e( 'Plugins' ); ?></h3>
-<p><?php print_r( '以下插件有可用更新，请下载您需要升级的插件之后通过SVN手动升级。' ); // for SAE, modified by Gimhoy (blog.gimhoy.com)  ?></p>
+<p><?php print_r( '以下插件有可用更新，请下载您需要升级的插件之后通过SVN手动升级。' ); // for SAE ?></p>
 <form method="post" action="<?php echo esc_url( $form_action ); ?>" name="upgrade-plugins" class="upgrade">
 <?php wp_nonce_field('upgrade-core'); ?>
 
diff --git a/wp-includes/ID3/module.audio.mp3.php b/wp-includes/ID3/module.audio.mp3.php
index f2eb6c6..06a2e5a 100644
--- a/wp-includes/ID3/module.audio.mp3.php
+++ b/wp-includes/ID3/module.audio.mp3.php
@@ -1225,7 +1225,7 @@ class getid3_mp3 extends getid3_handler
 
 		$previousvalidframe = $info['avdataoffset'];
 		while ($this->ftell() < $info['avdataend']) {
-			//set_time_limit(30); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+			//set_time_limit(30); // for SAE
 
 			$head4 = $this->fread(4);
 			if (strlen($head4) < 4) {
diff --git a/wp-includes/capabilities.php b/wp-includes/capabilities.php
index 61408e2..71fa037 100644
--- a/wp-includes/capabilities.php
+++ b/wp-includes/capabilities.php
@@ -1356,7 +1356,7 @@ function current_user_can( $capability ) {
 	$block_action = array('install_plugins','install_themes', 'edit_plugins', 'update_plugins', 'install_plugins', 'update_themes','delete_plugins','delete_themes','delete_plugins');
     if (in_array($capability, $block_action)!=false) {
         return false;
-    }  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+    }  // for SAE
 	$current_user = wp_get_current_user();
 
 	if ( empty( $current_user ) )
diff --git a/wp-includes/class-http.php b/wp-includes/class-http.php
index af097fe..5e56ad1 100644
--- a/wp-includes/class-http.php
+++ b/wp-includes/class-http.php
@@ -10,7 +10,6 @@
  * @package WordPress
  * @subpackage HTTP
  * @since 2.7.0
- * @modified by Gimhoy (blog.gimhoy.com)
  */
 
 /**
@@ -323,7 +322,7 @@ class WP_Http {
 			if ( !call_user_func( array( $class, 'test' ), $args, $url ) )
 				continue;
 
-			return 'WP_Http_Curl';  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+			return 'WP_Http_Curl';  // for SAE
 
 		}
 
@@ -1472,7 +1471,7 @@ class WP_Http_Curl {
 			}
 			curl_setopt( $handle, CURLOPT_HTTPHEADER, $headers );
 		}
-		curl_setopt( $handle, CURLINFO_HEADER_OUT, true );  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+		curl_setopt( $handle, CURLINFO_HEADER_OUT, true );  // for SAE
 
 		if ( $r['httpversion'] == '1.0' )
 			curl_setopt( $handle, CURLOPT_HTTP_VERSION, CURL_HTTP_VERSION_1_0 );
diff --git a/wp-includes/class-pop3.php b/wp-includes/class-pop3.php
index f06655a..d583720 100644
--- a/wp-includes/class-pop3.php
+++ b/wp-includes/class-pop3.php
@@ -57,14 +57,14 @@ class POP3 {
             settype($timeout,"integer");
             $this->TIMEOUT = $timeout;
            // if (!ini_get('safe_mode'))
-            //    set_time_limit($timeout); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+            //    set_time_limit($timeout); // for SAE
         }
         return true;
     }
 
     function update_timer () {
        // if (!ini_get('safe_mode'))
-         //   set_time_limit($this->TIMEOUT);  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+         //   set_time_limit($this->TIMEOUT);  // for SAE
         return true;
     }
 
diff --git a/wp-includes/class-smtp.php b/wp-includes/class-smtp.php
index 47e2892..1e27d52 100644
--- a/wp-includes/class-smtp.php
+++ b/wp-includes/class-smtp.php
@@ -209,7 +209,7 @@ class SMTP
             $socket_context
         );
 		*/
-		$this->smtp_conn = fsockopen($host, $port, $errno, $errstr); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+		$this->smtp_conn = fsockopen($host, $port, $errno, $errstr); // for SAE
 
         // Verify we connected properly
         if (empty($this->smtp_conn)) {
@@ -234,7 +234,7 @@ class SMTP
             /*$max = ini_get('max_execution_time');
             if ($max != 0 && $timeout > $max) { // Don't bother if unlimited
                 @set_time_limit($timeout);
-            } */// for SAE, modified by Gimhoy (blog.gimhoy.com) 
+            } */// for SAE
 
             stream_set_timeout($this->smtp_conn, $timeout, 0);
         }
diff --git a/wp-includes/class-wp-image-editor-gd.php b/wp-includes/class-wp-image-editor-gd.php
index 1b2f493..5d47633 100644
--- a/wp-includes/class-wp-image-editor-gd.php
+++ b/wp-includes/class-wp-image-editor-gd.php
@@ -97,7 +97,7 @@ class WP_Image_Editor_GD extends WP_Image_Editor {
 		 *                          Accepts an integer (bytes), or a shorthand string notation, such as '256M'.
 		 */
 		// Set artificially high because GD uses uncompressed images in memory
-		// @ini_set( 'memory_limit', apply_filters( 'image_memory_limit', WP_MAX_MEMORY_LIMIT ) ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+		// @ini_set( 'memory_limit', apply_filters( 'image_memory_limit', WP_MAX_MEMORY_LIMIT ) ); // for SAE
 
 
 		$this->image = @imagecreatefromstring( file_get_contents( $this->file ) );
@@ -407,7 +407,7 @@ class WP_Image_Editor_GD extends WP_Image_Editor {
 		$stat = stat( dirname( $filename ) );
 		$perms = $stat['mode'] & 0000666; //same permissions as parent folder, strip off the executable bits
 		@ chmod( $filename, $perms );
-		*/ // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+		*/ // for SAE
 
 		/**
 		 * Filter the name of the saved image file.
diff --git a/wp-includes/class-wp-image-editor-imagick.php b/wp-includes/class-wp-image-editor-imagick.php
index dc4c8a6..dbfca95 100644
--- a/wp-includes/class-wp-image-editor-imagick.php
+++ b/wp-includes/class-wp-image-editor-imagick.php
@@ -123,7 +123,7 @@ class WP_Image_Editor_Imagick extends WP_Image_Editor {
 
 		/** This filter is documented in wp-includes/class-wp-image-editor-imagick.php */
 		// Even though Imagick uses less PHP memory than GD, set higher limit for users that have low PHP.ini limits
-		// @ini_set( 'memory_limit', apply_filters( 'image_memory_limit', WP_MAX_MEMORY_LIMIT ) ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+		// @ini_set( 'memory_limit', apply_filters( 'image_memory_limit', WP_MAX_MEMORY_LIMIT ) ); // for SAE
 
 		try {
 			$this->image = new Imagick( $this->file );
diff --git a/wp-includes/comment.php b/wp-includes/comment.php
index 20da488..23ef94d 100644
--- a/wp-includes/comment.php
+++ b/wp-includes/comment.php
@@ -2597,7 +2597,7 @@ function pingback($content, $post_ID) {
 		$pingback_server_url = discover_pingback_server_uri( $pagelinkedto );
 
 		if ( $pingback_server_url ) {
-			// @ set_time_limit( 60 ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+			// @ set_time_limit( 60 ); // for SAE
 
 			// Now, the RPC call
 			$pagelinkedfrom = get_permalink($post_ID);
diff --git a/wp-includes/default-constants.php b/wp-includes/default-constants.php
index f07b93e..c3d0dc8 100644
--- a/wp-includes/default-constants.php
+++ b/wp-includes/default-constants.php
@@ -49,7 +49,7 @@ function wp_initial_constants() {
 			$wp_limit_int *= 1024;
 
 		//if ( -1 != $current_limit && ( -1 == WP_MEMORY_LIMIT || $current_limit_int < $wp_limit_int ) )
-		//	@ini_set( 'memory_limit', WP_MEMORY_LIMIT ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+		//	@ini_set( 'memory_limit', WP_MEMORY_LIMIT ); // for SAE
 
 	}
 
diff --git a/wp-includes/deprecated.php b/wp-includes/deprecated.php
index b4a3515..3a4e40c 100644
--- a/wp-includes/deprecated.php
+++ b/wp-includes/deprecated.php
@@ -3226,7 +3226,7 @@ function wp_load_image( $file ) {
 		return __('The GD image library is not installed.');
 
 	// Set artificially high because GD uses uncompressed images in memory
-	// @ini_set( 'memory_limit', apply_filters( 'image_memory_limit', WP_MAX_MEMORY_LIMIT ) ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+	// @ini_set( 'memory_limit', apply_filters( 'image_memory_limit', WP_MAX_MEMORY_LIMIT ) ); // for SAE
 
 	$image = imagecreatefromstring( file_get_contents( $file ) );
 
diff --git a/wp-includes/functions.php b/wp-includes/functions.php
index 63b5958..83a9eee 100644
--- a/wp-includes/functions.php
+++ b/wp-includes/functions.php
@@ -4,7 +4,6 @@
  *
  * @package WordPress
  *
- * @modified by Gimhoy (blog.gimhoy.com)
  */
 
 require( ABSPATH . WPINC . '/option.php' );
@@ -572,7 +571,7 @@ function do_enclose( $content, $post_ID ) {
  * @return bool|string False on failure and string of headers if HEAD request.
  */
 function wp_get_http( $url, $file_path = false, $red = 1 ) {
-	// @set_time_limit( 60 ); // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+	// @set_time_limit( 60 ); // for SAE
 
 
 	if ( $red > 5 )
@@ -1472,8 +1471,8 @@ function wp_mkdir_p( $target ) {
 	$wrapper = null;
 	if ( substr($target, 0, 10) == 'saestor://' ) {
 		return true;
-	}  
-	$target = str_replace( '//', '/', $target );	// for SAE, modified by Gimhoy (blog.gimhoy.com) 
+	}
+	$target = str_replace( '//', '/', $target );	// for SAE
 
 	/*
 	// Strip the protocol.
@@ -1488,7 +1487,7 @@ function wp_mkdir_p( $target ) {
 	if( $wrapper !== null ) {
 		$target = $wrapper . '://' . $target;
 	}
-	*/ // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+	*/ // for SAE
 
 	/*
 	 * Safe mode fails with a trailing slash under certain PHP versions.
@@ -1799,7 +1798,7 @@ function wp_upload_dir( $time = null ) {
 
 	if(!defined(SAE_STORAGE)) define('SAE_STORAGE', 'wordpress');
 	$dir = 'saestor://'.SAE_STORAGE.SAE_DIR;
-	$url = 'http://' . $_SERVER['HTTP_APPNAME'] . '-'.SAE_STORAGE.'.stor.sinaapp.com'.SAE_DIR;  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+	$url = 'http://' . $_SERVER['HTTP_APPNAME'] . '-'.SAE_STORAGE.'.stor.sinaapp.com'.SAE_DIR;  // for SAE
 
 	$basedir = $dir;
 	$baseurl = $url;
diff --git a/wp-includes/load.php b/wp-includes/load.php
index 25b0025..0f5c71e 100644
--- a/wp-includes/load.php
+++ b/wp-includes/load.php
@@ -479,7 +479,7 @@ function wp_not_installed() {
 		require( ABSPATH . WPINC . '/formatting.php' );
 
 		$link = wp_guess_url() . '/wp-admin/install.php';
-		$link = 'http://'.$_SERVER["HTTP_HOST"].'/wp-admin/install.php?'.$_SERVER['QUERY_STRING'];  // for SAE, modified by Gimhoy (blog.gimhoy.com) 
+		$link = 'http://'.$_SERVER["HTTP_HOST"].'/wp-admin/install.php?'.$_SERVER['QUERY_STRING'];  // for SAE
 
 		wp_redirect( $link );
 		die();
diff --git a/wp-includes/media.php b/wp-includes/media.php
index 253e572..c7d092d 100644
--- a/wp-includes/media.php
+++ b/wp-includes/media.php
@@ -4,7 +4,6 @@
  *
  * @package WordPress
  * @subpackage Media
- * @modified by Gimhoy (blog.gimhoy.com)
  */
 
 /**
-- 
1.9.4.msysgit.1

